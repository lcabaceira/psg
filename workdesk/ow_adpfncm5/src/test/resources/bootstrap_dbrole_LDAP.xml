<?xml version="1.0" encoding="UTF-8"?>
<bootstrap>
	<login>
		<username>P8Admin</username>
		<password>IBMFileNetP8</password>
	</login>
	<EcmAdapter>

		<ClassName>com.wewebu.ow.server.ecmimpl.fncm5.OwFNCM5Network</ClassName>

		<Version>4.2.0</Version>
		<ConnectionURL>http://abs-fncm52.alfresco.com:9080/wsi/FNCEWS40MTOM/</ConnectionURL>
		<jaasContext>FileNetP8WSI</jaasContext>
		<!-- For jboss don't forget to set in the login-conf.xml the correct dependency 
			<application-policy name="FileNetP8WSI"> <authentication> <login-module code="com.filenet.api.util.WSILoginModule" 
			flag="required" /> </authentication> </application-policy> -->

		<DefaultObjectStore>P8ConfigObjectStore</DefaultObjectStore>

		<RecordClasses optionid="">
			<RecordClassName>TestRecord1</RecordClassName>
		</RecordClasses>

		<SemiVirtualRecordClasses optionid="">
			<SemiVirtualRecordClassName virtualfolder="testsemivirtualfolder"
				folderclassname="EmployeeFolder" includephysicalchilds="true">
				<VirtualFolderProperty folderproperty="employee_number">employee_number
				</VirtualFolderProperty>
			</SemiVirtualRecordClassName>
		</SemiVirtualRecordClasses>
		<EvaluateReferentialContainmentRelationship>true</EvaluateReferentialContainmentRelationship> 
		<!-- <CaseObjectRefPropertyName></CaseObjectRefPropertyName> -->
		<!--BPM optionid="">
		
			 <ConnectionPointName>P8ConnPt1</ConnectionPointName>
			 <DefaultObjectStoreLookup>DemoStore1</DefaultObjectStoreLookup>
			 <ProxyRouting>false</ProxyRouting>
			 <DefaultResource></DefaultResource>
			 <WorkplaceRedirectURL>http://abs-dbmssql.alfresco.com/Workplace</WorkplaceRedirectURL>
			 <ExternalAttachmentProperties>
			         <property></property>
             </ExternalAttachmentProperties>
        </BPM-->

		<PreferedPropertyOrder optionid="">
			<property>DocumentTitle</property>
			<property>FolderName</property>
			<property>DateCreated</property>
			<property>Creator</property>
		</PreferedPropertyOrder>

		<CreationInitialValues optionid="">
			<ObjectClass name="TestDocument1">
				<Property name="TEST_STRING">hello, world!</Property>
				<Property name="TEST_DATE">{today}</Property>
			</ObjectClass>
		</CreationInitialValues>

		<NameProperties optionid="">
			<ObjectClass name="TestDocument1">
				<NameProperty>DateLastModified</NameProperty>
			</ObjectClass>
		</NameProperties>

		<PreferredPropertyType optionid="">
			<Property type="system">MimeType</Property>
		</PreferredPropertyType>

		<Authentication mode="LDAP" recursionlevel="0">
        	<SchemaInterpreter>com.wewebu.ow.server.util.ldap.OwStandardSchemaInterpreter</SchemaInterpreter>
            <java.naming.provider.url>ldap://abs-fncm52.alfresco.com:389</java.naming.provider.url>
            <UsersDirectory>o=sample</UsersDirectory>
            <GroupsDirectory>o=sample</GroupsDirectory>
            <GroupsObjectClass>groupOfNames</GroupsObjectClass>
            <GroupReferenceAttribute>member</GroupReferenceAttribute>
            <java.naming.factory.initial>com.sun.jndi.ldap.LdapCtxFactory</java.naming.factory.initial>
            <java.naming.security.authentication>simple</java.naming.security.authentication>
            <java.naming.security.principal>CN=root</java.naming.security.principal>
            <java.naming.security.credentials>123</java.naming.security.credentials>
            <loginQueryName>sn</loginQueryName>
        	<anonymousLogin>false</anonymousLogin>
        </Authentication>

		<!-- should the document-classes be cached per user or global over the 
			application - default value is true - true ==> document-classes are cached 
			in application context false ==> document-classes are cached in session context 
			<use-document-class-caching>true</use-document-class-caching> -->

		<!-- <AnnotationSecurity type="UseAnnotationClass | InheritFromDocument" 
			/> InheritFromDocument - use document permissions for annotation UseAnnotationClass 
			- using the default permissions for annotation class, as defined in FNCM 
			<AnnotationSecurity type="InheritFromDocument" /> -->
		<!-- The name of the folder inside the /ow_app/ folder of the ECM System 
			where User-defined preferences are stored default value "owpreferences" (also 
			when the tag is missing) -->
		<UserDefinedPreferencesFolder>owpreferences</UserDefinedPreferencesFolder>

		<!-- The DB table name used by the <DefaultDataSource> for attribute bag 
			persistency. default name is OW_ATTRIBUTE_BAG -->
		<DbAttributeBagTableName>OW_ATTRIBUTE_BAG</DbAttributeBagTableName>

	</EcmAdapter>
	
	<HistoryManager>

        <ClassName>com.wewebu.ow.server.ecmimpl.fncm5.OwFNCM5HistoryManager</ClassName>

        <Version>4.2.0</Version>

        <BPMHistoryManager>

            <ClassName>com.wewebu.ow.server.ecmimpl.fncm5.bpm.OwFNBPM5HistoryManager</ClassName>

            <Version>4.2.0</Version>
                       
            <SessionEvents> 
                <Event  eventtype="HISTORY_EVENT_TYPE_PLUGIN_INVOKE_VIEW" eventid="*"/>
                <Event  eventtype="HISTORY_EVENT_TYPE_PLUGIN_INVOKE_EDIT" eventid="*"/>
            </SessionEvents>
                    
        </BPMHistoryManager>
               
        <SessionEvents> 
            <Event  eventtype="HISTORY_EVENT_TYPE_PLUGIN_INVOKE_VIEW" eventid="*"/>
            <Event  eventtype="HISTORY_EVENT_TYPE_PLUGIN_INVOKE_EDIT" eventid="*"/>
        </SessionEvents>
                
    </HistoryManager>
    
    <DefaultDataSource>
            <JNDIName>java:/DB2DS</JNDIName>
            <DriverClassName>com.ibm.db2.jcc.DB2Driver</DriverClassName>
            <URL>jdbc:db2://abs-fncm52.alfresco.com:50000/OWDDB</URL>
            <User>db2admin</User>
            <Password>IBMFileNetP8</Password>
    </DefaultDataSource>
    
    <RoleManager>

		<ClassName>com.wewebu.ow.server.roleimpl.dbrole.OwDBRoleManager</ClassName>
		
		<Version>4.2.0</Version>
		
		<DbTableName>OW_ROLE</DbTableName>

		<DesignName></DesignName>

		<AvailableDesigns>
            <Design displayName="Alfresco Workdesk 4.1 Design">default41</Design>
		</AvailableDesigns>

		<SchemeVersion>3</SchemeVersion>

		<SecurityAdmin pluginid="com.wewebu.ow.Admin">
			<User>cn=P8Admin,o=sample</User>
			<User>P8Admin</User>
		</SecurityAdmin>

		<MasterRoles enable="false">

			<MasterRoleGroup name="P8Admin" memberOfAll="true">
				<Role>???</Role>
				<Role>???</Role>
			</MasterRoleGroup>

		</MasterRoles>

        <ConfigCategories>ROLE_CATEGORY_VIRTUAL_QUEUE,
                          ROLE_CATEGORY_PLUGIN,
                          ROLE_CATEGORY_SEARCH_TEMPLATE,
                          ROLE_CATEGORY_STANDARD_FUNCTION,
                          ROLE_CATEGORY_OBJECT_CLASSES,
                          ROLE_CATEGORY_INDEX_FIELDS
        </ConfigCategories>
		
	</RoleManager>
    
    
</bootstrap>