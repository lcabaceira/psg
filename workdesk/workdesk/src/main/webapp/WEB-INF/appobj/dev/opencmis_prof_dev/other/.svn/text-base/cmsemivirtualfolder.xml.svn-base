<?xml version="1.0" ?>
<VirtualFolderDescription>

	<!-- (optional) java class name of virtual folder factory to use. Leave empty to use standard: com.wewebu.ow.server.ecm.OwStandardVirtualFolderObjectFactory -->
	<ClassName />

	<root name="CM eFile" containsdocs="false">

		<!-- Node contains a search template-->
		<search versionselection="currentversion"><!--allversions,releasedversion,checkedoutversion,inprocessversion,majorversions,minorversions -->


            <from>
                <class symname="document" />
            </from>


			<select>
				<selectprops>
					<selectprop sortlevel="1" sortorder="ascending" symname="cmis:document.cmis:name" />
					<!-- selectprop symname="D:owd:cmdocument.owd:cmDocumentType" /-->
					<selectprop symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus" />
					<selectprop symname="P:owd:cmefileIdAspect.owd:cmefileId" />
				</selectprops>
			</select>

			<where>
				
					<and>
						<!-- eq>
							<whereprop editproperty="hidden" symname="D:owd:cmdocument.owd:cmDocumentType" />
							<literal />
						</eq-->

						<eq>
							<whereprop editproperty="hidden" symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus" />
							<literal />
						</eq>
					

					<eq>
						<whereprop editproperty="hidden" symname="P:owd:cmefileIdAspect.owd:cmefileId" />
						<literal />
					</eq>
					</and>
				
			</where>
			<subclasses>
				<subclass editproperty="hidden" objecttype="document" name="CM Document" symname="D:owd:cmdocument" />
			</subclasses>
		</search>

		<node name="New" containsdocs="true">
			<refinecriteria>
				<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">New</literal>
			</refinecriteria>
		</node>

		<node name="In Progress" containsdocs="true">
			<refinecriteria>
				<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">In Progress</literal>
			</refinecriteria>
		</node>

		<node name="Completed" containsdocs="true">
			<refinecriteria>
				<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">Completed</literal>
			</refinecriteria>
		</node>

		<node name="Accounting" containsdocs="true">
			<refinecriteria>
				<literal symname="P:owd:AssigneeAspect.owd:Assignee">Accounting</literal>
			</refinecriteria>
		</node>
		
		<node name="Sales" containsdocs="true">
            <refinecriteria>
                <literal symname="P:owd:AssigneeAspect.owd:Assignee">Sales</literal>
            </refinecriteria>
        </node>
		
		<!-- 
		<node name="Delivery" containsdocs="true">
            <refinecriteria>
                <literal symname="F:owd:cmdocument.owd:cmDocumentType">Delivery</literal>
            </refinecriteria>
        </node>
        
		<node name="Tasks" containsdocs="true">
			<search versionselection="releasedversion">

				<from>
					<class symname="folder" />
				</from>

				<select>
					<selectprops>
						<selectprop sortlevel="1" sortorder="ascending" symname="CM_DocumentTitle" />
						<selectprop symname="CM_FID" />
						<selectprop symname="CM_ItemProperties.CM_Type" />
					</selectprops>
				</select>

				<where>
					<and>
						<eq>
							<whereprop editproperty="hidden" symname="P:owd:cmefileIdAspect.owd:cmefileId">
							</whereprop>
							<literal />
						</eq>
						<eq>
							<whereprop editproperty="hidden" symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus" />
						</eq>
					</and>
				</where>

				<subclasses>
					<subclass objecttype="folder" symname="D:owd:cmtask" />
				</subclasses>
			</search>

			<refinecriteria>
				<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus" />
			</refinecriteria>

			<node name="New" containsdocs="true">
				<refinecriteria>
					<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">New</literal>
				</refinecriteria>
			</node>
			<node name="In Progress" containsdocs="true">
				<refinecriteria>
					<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">In Progress</literal>
				</refinecriteria>
			</node>
			<node name="Completed" containsdocs="true">
				<refinecriteria>
					<literal symname="P:owd:ProcessingStatusAspect.owd:ProcessingStatus">Completed</literal>
				</refinecriteria>
			</node>
		</node-->
	</root>

</VirtualFolderDescription>
