<?xml version="1.0"?>
<storedsearch>
	<searchspec versionselection="currentversion">
		<!-- currentversion,allversions,releasedversion,checkedoutversion,inprocessversion,majorversions,minorversions -->
		<objectstores mergeoption="union">
			<objectstore name="Main Repository" />
		</objectstores>
		<searchcriteria>
			<folders>
				<folder pathname="/Sites/contractmanagement/documentLibrary/Contracts"
					searchsubfolders="true" view="hidden">
					<objectstore name="Main Repository" />
				</folder>
			</folders>
			<searchclauses>
				<select>
					<selectprops>
						<selectprop symname="cmis:document.cmis:name" sortlevel="1"
							sortorder="ascending" />
						<selectprop symname="P:cmg:asp_contractID.cmg:contractID" />
						<selectprop symname="P:cmg:asp_documentType.cmg:documentType" />
						<selectprop symname="P:cmg:asp_documentStatus.cmg:documentStatus" />
						<selectprop symname="cmis:document.cmis:creationDate" />
						<selectprop symname="cmis:document.cmis:createdBy" />
						<selectprop symname="cmis:document.cmis:lastModificationDate" />
					</selectprops>
				</select>
				<from>
					<class symname="document" />
				</from>
				<where>
					<and>
						<eq>
							<whereprop editproperty="editable"
								symname="P:cmg:asp_contractID.cmg:contractID" />
							<literal />
						</eq>
						<cbr_in>
							<whereprop editproperty="editable" symname="cmis:document.cmis:name" />
							<literal />
						</cbr_in>
						
						<eq>
							<whereprop editproperty="editable" symname="P:cmg:asp_documentType.cmg:documentType" />
							<literal />
						</eq>
						<eq>
							<whereprop editproperty="editable" symname="P:cmg:asp_documentStatus.cmg:documentStatus" />
							<literal />
						</eq>
						<eq>
							<whereprop editproperty="editable" symname="cmis:document.cmis:createdBy" />
							<literal />
						</eq>
						<between>
							<whereprop editproperty="editable" symname="cmis:document.cmis:creationDate" />
							<literal />
						</between>
						<between>
							<whereprop editproperty="editable"
								symname="cmis:document.cmis:lastModificationDate" />
							<literal />
						</between>
					</and>
				</where>

				<!-- Define the path to a JSP page used for rendering out the search 
					template, specified relative to OpenWorkdeskÂ´s used design folder, e.g. <jsppage>demo/JspFormularTest.jsp</jsppage> -->
				<jsppage />

				<!-- Optional block to render a search field for content based fulltext 
					search, which will search for hits in XML based indexed document content. 
					This block only works in search templates and does not work to build virtual 
					folder structures! -->
				<!--
				<veritycontent>
					<verityitem editproperty="editable" groupaction="any">
						<usertext />
						<verityitemdata>
							<verityany>
								<verityunit />
							</verityany>
						</verityitemdata>
					</verityitem>
				</veritycontent>
				-->

				<subclasses>
					<subclass objecttype="document" symname="D:cmg:document" />
				</subclasses>
			</searchclauses>
			<options maxrecords="1000" />
		</searchcriteria>
	</searchspec>
</storedsearch>